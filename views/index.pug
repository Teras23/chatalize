extends layout
block content
      
  div(class="container")
    h1= title
    p Welcome to #{title}
    canvas(id='canvas')
    
    p Sort by: 	<select id="sort" class="sort" onchange="sortList()">
      <option value="count" selected>Message Count</option>
      <option value="date" disabled>Date</option>
      <option value="title">A-Z</option>
    </select>
    <select id="asc" class="asc" onchange="sortListAsc()">
      <option value="desc" selected>Descending</option>
      <option value="asc">Ascending</option>
    </select> &emsp;
    <input type="checkbox" name="directMessages" id="DirectMessages" checked onclick="showDirects()"> Direct Messages &emsp;
    <input type="checkbox" name="groups" id="GroupMessages" checked onclick="showGroups()"> Group Chats
    
    div(class="row")
      div(class="col")
        ul(id="list" class="list-group")
          each chat in files
            a(href="/chat/" + chat.fileName)
              if chat.participants === null
                li(class="list-group-item list-group-item-action list-group-item-light directs all")
                  span(class="badge badge-primary badge-pill mr-4") #{chat.messageCount}
                  span #{chat.title}
              else
                li(class="list-group-item list-group-item-action list-group-item-info groups all")
                  span(class="badge badge-pill badge-light mr-4") #{chat.messageCount}
                  span #{chat.title}
                  span(class="showParticipantsOnHover") #{chat.participants}
    script(src="/scripts/index.js")
